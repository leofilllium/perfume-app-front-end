window.module||(window.module={}),module.consent=function(){"use strict";var t={},n={setAcceptAllCookies:function(e){s({ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted",analytics_storage:"granted",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted"});var t=document.querySelector(".popup.consent");t&&t.remove()},saveRejectedSettings:function(){s({ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",functionality_storage:"denied",personalization_storage:"granted",security_storage:"granted"});var e=document.querySelector(".popup.consent");e&&e.remove()},toggleDescription:function(e){var t=e.target.getAttribute("data-text-id"),e=e.target.closest(".checkbox-container"),t=document.querySelector("#"+t);t.classList.contains("hidden")?(t.classList.remove("hidden"),e.classList.add("clicked")):(t.classList.add("hidden"),e.classList.remove("clicked"))},showSettingsBlock:function(e){document.querySelector(".all_cookie").classList.add("hidden"),document.querySelector(".settings").classList.remove("hidden"),e.target.closest(".button-row").classList.add("hidden"),document.getElementById("save_settings_cookie_button").closest(".button-row").classList.remove("hidden"),document.getElementById("reject_settings_cookie_button").closest(".button-row").classList.remove("hidden")},saveSettings:function(){var e=Array.from(document.querySelectorAll('#settings_block input[type="checkbox"]:checked')).map(function(e){e=e.getAttribute("data-settings-id");return null!=e?e.split(","):null}).reduce(function(e,t){return e[t]="granted",e},{}),t=Array.from(document.querySelectorAll('#settings_block input[type="checkbox"]:not(:checked)')).map(function(e){return e.getAttribute("data-settings-id").split(",")}).reduce(function(e,t){return e[t]="denied",e},{}),e=(s(Object.assign({},e,t)),document.querySelector(".popup.consent"));e&&e.remove()}};function e(){document.addEventListener("click",function(e){e.target.matches(".checkbox-custom")&&n.toggleDescription(e),e.target.matches("#all_cookie_button")&&n.setAcceptAllCookies(e),e.target.matches("#settings_cookie_button")&&n.showSettingsBlock(e),e.target.matches("#save_settings_cookie_button")&&n.saveSettings(e),e.target.matches("#reject_settings_cookie_button")&&n.saveRejectedSettings(e)})}function o(e=!1){(!function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),o=0;o<n.length;o++){var s=n[o].trim();if(0===s.indexOf(t))return s.substring(t.length,s.length)}return null}("consent_settings")||e)&&fetch("/ajax/consent/",{method:"POST",body:JSON.stringify(t.consentBanner),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then(e=>e.text()).then(e=>{var t,n;"false"!==e&&((t=document.createElement("div")).className="popup consent ng-animate ng-hide-animate",(n=document.createElement("div")).className="popup__window",n.innerHTML=e,t.appendChild(n),document.querySelector(".main-wrap").prepend(t))})}function s(e){var t,n,e=Object.entries(e).reduce((t,[e,n])=>(e.includes(",")?e.split(",").forEach(e=>{t[e]=n}):t[e]=n,t),{});0<Object.keys(e).length&&((t=new Date).setDate(t.getDate()+800),n=JSON.stringify(e),document.cookie=`consent_settings=${encodeURIComponent(n)}; expires=${t.toUTCString()}; path=/`,function(){"dataLayer"in window&&(window.dataLayer.push(arguments),window.dataLayer.push({event:"consent_update"}))}("consent","update",e))}function i(){t.consentBanner=window.gdprCookies}return window.dataLayer=window.dataLayer||[],{init:function(){i(),o(),e()},edit:function(){i(),o(!0),e()}}}();